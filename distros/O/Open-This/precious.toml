exclude = [
    # Used by Dist::Zilla
    ".build",
    "App-perlimports-*",
    "blib",
    "inc",
    "test-data",
    # All of these are generated by Dist::Zilla
    "t/00-*",
    "t/author-*",
    "t/release-*",
    "xt/author",
    "xt/release",
]

[commands.perlimports]
type = "both"
include = [ "**/*.{pl,pm,t,psgi}", "script/ot" ]
cmd = [ "perlimports" ]
tidy_flags = [ "-i" ]
lint_flags = [ "--lint" ]
ok_exit_codes = 0
expect_stderr = true

[commands.perltidy]
type = "both"
include = [ "**/*.{pl,pm,t,psgi}", "script/ot" ]
cmd = [ "perltidy", "--profile=$PRECIOUS_ROOT/perltidyrc" ]
lint_flags = [ "--assert-tidy", "--no-standard-output", "--outfile=/dev/null" ]
tidy_flags = [ "--backup-and-modify-in-place", "--backup-file-extension=/" ]
ok_exit_codes = 0
lint_failure_exit_codes = 2
expect_stderr = true

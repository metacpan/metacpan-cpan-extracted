package Net::Async::Spotify::API::Generated::Markets;

use strict;
use warnings;

our $VERSION = '0.002'; # VERSION
our $AUTHORITY = 'cpan:VNEALV'; # AUTHORITY

use mro;
use parent qw(Net::Async::Spotify::API::Base);

use Future::AsyncAwait;

=encoding utf8

=head1 NAME

Net::Async::Spotify::API::Generated::Markets - Package representing Spotify Markets API

=head1 DESCRIPTION

Autogenerated module.
Based on https://developer.spotify.com/documentation/web-api/reference/#reference-index
Check C<crawl-api-doc.pl> for more information.

=head1 METHODS

=cut

sub mapping { shift->{mapping} }

=head2 get_available_markets

get_available_markets - Get Available Markets

Get the list of markets where Spotify is available.

with Request details being:

=head3 header

=over 4

=item Authorization

Type: string | Required: required
A valid user access token or your client credentials.

=back

and Response Objects being:

- error object


On success, the HTTP status code in the response header is 200 OK and the response body contains a list of the countries in which Spotify is available, identified by their ISO 3166-1 alpha-2 country code with additional country codes for special territories. On error, the header status code is an error code and the response body contains an error object.Try in our Web Console

=cut

async sub get_available_markets {
    my ($self, %args) = @_;

    my $mapping = $self->mapping;
    my $request->{method} = $mapping->{get_available_markets}{method} // 'GET';
    $request->{uri}    = $mapping->{get_available_markets}{uri} // 'https://api.spotify.com/v1/markets';
    $request->{param}  = $mapping->{get_available_markets}{param} // {
        header => {
            'Authorization' => {
                type     => 'string',
                required => 'required',
            },
        },
    };
    my $response_objs = $mapping->{get_available_markets}{response} // [
        'error object',

    ];

    await $self->call_api($request, $response_objs, %args);
}

1;

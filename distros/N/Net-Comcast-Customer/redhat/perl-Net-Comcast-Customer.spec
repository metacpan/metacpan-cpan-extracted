Name:           perl-Net-Comcast-Customer
Version:        1.2
Release:        1%{?dist}
Summary:        Comcast Customer Central web interface
License:        GPL+ or Artistic
Group:          Development/Libraries
URL:            http://search.cpan.org/dist/Net-Comcast-Customer/
Source0:        http://www.cpan.org/modules/by-module/Net/Net-Comcast-Customer-%{version}.tar.gz
BuildRoot:      %{_tmppath}/%{name}-%{version}-%{release}-root-%(%{__id_u} -n)
BuildArch:      noarch
#BuildRequires:  perl(Test::Pod)
#BuildRequires:  perl(Test::Pod::Coverage)
BuildRequires:  perl(Date::Calc)
BuildRequires:  perl(WWW::Mechanize)
Requires:       perl(:MODULE_COMPAT_%(eval "`%{__perl} -V:version`"; echo $version))

%description
Comcast Customer Central is "The one place where you can view and pay your
bill, and manage all your Comcast product features and settings." Since
Comcast has a 250 GB/month data cap, this module will allow you to view your total bandwidth used and your current "budgeted" bandwidth. The data is suitable for exporting into monitoring tools like RRDtool and Cacti.

%prep
%setup -q -n Net-Comcast-Customer-%{version}

%build
%{__perl} Makefile.PL INSTALLDIRS=vendor
make %{?_smp_mflags}

%install
rm -rf $RPM_BUILD_ROOT

make pure_install PERL_INSTALL_ROOT=$RPM_BUILD_ROOT

find $RPM_BUILD_ROOT -type f -name .packlist -exec rm -f {} \;
find $RPM_BUILD_ROOT -depth -type d -exec rmdir {} 2>/dev/null \;

%{_fixperms} $RPM_BUILD_ROOT/*

%check
make test

%clean
rm -rf $RPM_BUILD_ROOT

%files
%defattr(-,root,root,-)
%doc Changes README
%{_bindir}/comcast-data
%{perl_vendorlib}/*
%{_mandir}/man3/*

%changelog
* Mon Sep 03 2012 Ken Dreyer <ktdreyer@ktdreyer.com> 1.2-1
- New upstream version

* Sat May 19 2012 ktdreyer@ktdreyer.com 1.1-1
- New upstream version

* Mon Sep 05 2011 ktdreyer@ktdreyer.com 1.0-1
- Specfile autogenerated by cpanspec 1.77.

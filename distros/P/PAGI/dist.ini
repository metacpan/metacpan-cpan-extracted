name    = PAGI
author  = John Napiorkowski <jjnapiork@cpan.org>
license = Artistic_2_0
copyright_holder = John Napiorkowski
copyright_year   = 2025
abstract = PAGI Specification, Utilities and Reference Server
version = 0.001011

[@Basic]
[MetaJSON]

[MetaResources]
homepage = https://github.com/jjn1056/pagi
bugtracker.web  = https://github.com/jjn1056/pagi/issues
repository.web  = https://github.com/jjn1056/pagi
repository.url  = https://github.com/jjn1056/pagi
repository.type = git

[MetaNoIndex]
directory = examples

[Prereqs::FromCPANfile]

; Generate POD from spec markdown before build (to temp dir, not source tree)
[Run::BeforeBuild]
run = perl script/build-spec-pod.pl --output-dir=_build_gen

; Include generated spec POD files in the build
[GatherDir / SpecPod]
root = _build_gen
prefix = lib

; Exclude _build_gen from main GatherDir (it's already gathered with prefix above)
; Also exclude development-only files
[PruneFiles]
match = ^_build_gen/
match = ^script/
filename = TODO.md
filename = CLAUDE.md

; Clean up temp dir after build
[Run::AfterBuild]
run = rm -rf _build_gen

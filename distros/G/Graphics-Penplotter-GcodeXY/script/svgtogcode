#!/usr/bin/perl

# convert an svg file to gcode, using Graphics::Penplotter::GcodeXY
# use: svgimport filename [scalefactor]
# output goes to filename.gcode

use strict;
use warnings;
use Graphics::Penplotter::GcodeXY;

# create a gcode object
my $g = Graphics::Penplotter::GcodeXY->new(
   papersize => "A3",
   units     => "pt",
   optimize  => 1,
   opt_debug  => 0,
   #check     => 1,
   #warn      => 1
   );

# file name
my $f = shift or die "no input file provided";
my $scale = shift || 1.0;

$g->scale($scale, $scale);
# import it
$g->importsvg($f);
# create the gcode
$g->output("$f.gcode");

exit 1;

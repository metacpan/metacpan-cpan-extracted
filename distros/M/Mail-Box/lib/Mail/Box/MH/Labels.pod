=encoding utf8

=head1 NAME

Mail::Box::MH::Labels - maintain MH message related labels

=head1 INHERITANCE

 Mail::Box::MH::Labels
   is a Mail::Reporter

=head1 SYNOPSIS

  my $labels = Mail::Box::MH::Labels->new;
  $labels->read(...)
  $labels->write(...)

=head1 DESCRIPTION

MH type message folders use one dedicated file per folder-directory to list
special tags to messages in that folder.  By doing this, mail agents may
avoid parsing all the messages, which is very resource consuming.

Labels can be used to group messages, for instance to reflect which
messages have been read or which look like spam.  Some labels are
predefined, but more can be added without limitation.

Extends L<"DESCRIPTION" in Mail::Reporter|Mail::Reporter/"DESCRIPTION">.

=head1 METHODS

Extends L<"METHODS" in Mail::Reporter|Mail::Reporter/"METHODS">.

=head2 Constructors

Extends L<"Constructors" in Mail::Reporter|Mail::Reporter/"Constructors">.

=over 4

=item $class-E<gt>B<new>(%options)

Inherited, see L<Mail::Reporter/"Constructors">

 -Option  --Default
  filename  <required>

=over 2

=item filename => $file

The C<$file> which is used in each directory to store the headers of all
mails. The filename must be an absolute path.

=back

=back

=head2 Attributes

Extends L<"Attributes" in Mail::Reporter|Mail::Reporter/"Attributes">.

=over 4

=item $obj-E<gt>B<filename>()

Returns the name of the index file.

=back

=head2 Error handling

Extends L<"Error handling" in Mail::Reporter|Mail::Reporter/"Error handling">.

=over 4

=item $obj-E<gt>B<AUTOLOAD>()

Inherited, see L<Mail::Reporter/"Error handling">

=item $obj-E<gt>B<notImplemented>()

Inherited, see L<Mail::Reporter/"Error handling">

=back

=head2 Cleanup

Extends L<"Cleanup" in Mail::Reporter|Mail::Reporter/"Cleanup">.

=over 4

=item $obj-E<gt>B<DESTROY>()

Inherited, see L<Mail::Reporter/"Cleanup">

=back

=head2 The Label Table

=over 4

=item $obj-E<gt>B<append>($messages)

Append the label information about the specified C<$messages> to the end
of the label file.  The information will not be merged with the
information already present in the label file.

=item $obj-E<gt>B<get>($msgnr)

Look if there is label info for message C<$msgnr>.

=item $obj-E<gt>B<print>($fh, $messages)

Print the labels of the specified messages to the opened file.

=item $obj-E<gt>B<read>()

Read all label information from the file.  When the file does not exist,
this will return C<undef>.

=item $obj-E<gt>B<write>(@messages)

Write the labels related to the specified C<@messages> to the label file.

=back

=head1 DIAGNOSTICS

=over 4

=item Error: MH labels require a filename.

Cast by C<new()>

=item Fault: cannot append to MH labels file $file: $!

Cast by C<append()>

=item Fault: cannot write MH labels file to $file: $!

Cast by C<write()>

=item Error: class $package does not implement method $method.

Fatal error: the specific C<$package> (or one of its superclasses) does not
implement this method where it should. This message means that some other
related classes do implement this method however the class at hand does
not.  Probably you should investigate this and probably inform the author
of the package.
Cast by C<notImplemented()>

=item Fault: error while closing MH labels file $file after append: $!

Cast by C<append()>

=item Fault: error while closing MH labels file $file after write: $!

Cast by C<write()>

=back

=head1 SEE ALSO

This module is part of Mail-Box version 4.01,
built on December 13, 2025. Website: F<http://perl.overmeer.net/CPAN/>

=head1 LICENSE

For contributors see file ChangeLog.

This software is copyright (c) 2001-2025 by Mark Overmeer.

This is free software; you can redistribute it and/or modify it under
the same terms as the Perl 5 programming language system itself.

